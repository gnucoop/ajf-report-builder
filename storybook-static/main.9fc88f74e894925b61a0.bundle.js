(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{520:function(module){module.exports=JSON.parse('{"name":"ajf/column","category":"layout","attributes":{}}')},521:function(module){module.exports=JSON.parse('{"name":"ajf/layout","category":"layout","attributes":{"columns":{"type":"number"}}}')},535:function(module,exports,__webpack_require__){__webpack_require__(536),__webpack_require__(632),module.exports=__webpack_require__(633)},633:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(49),__webpack_require__(64),__webpack_require__(63),__webpack_require__(50),__webpack_require__(68);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(189),req=__webpack_require__(790);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(296)(module))},790:function(module,exports,__webpack_require__){var map={"./ReportBuilder/stories.js":913};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=790},823:function(module,exports,__webpack_require__){var map={"./af":353,"./af.js":353,"./ar":354,"./ar-dz":355,"./ar-dz.js":355,"./ar-kw":356,"./ar-kw.js":356,"./ar-ly":357,"./ar-ly.js":357,"./ar-ma":358,"./ar-ma.js":358,"./ar-sa":359,"./ar-sa.js":359,"./ar-tn":360,"./ar-tn.js":360,"./ar.js":354,"./az":361,"./az.js":361,"./be":362,"./be.js":362,"./bg":363,"./bg.js":363,"./bm":364,"./bm.js":364,"./bn":365,"./bn.js":365,"./bo":366,"./bo.js":366,"./br":367,"./br.js":367,"./bs":368,"./bs.js":368,"./ca":369,"./ca.js":369,"./cs":370,"./cs.js":370,"./cv":371,"./cv.js":371,"./cy":372,"./cy.js":372,"./da":373,"./da.js":373,"./de":374,"./de-at":375,"./de-at.js":375,"./de-ch":376,"./de-ch.js":376,"./de.js":374,"./dv":377,"./dv.js":377,"./el":378,"./el.js":378,"./en-SG":379,"./en-SG.js":379,"./en-au":380,"./en-au.js":380,"./en-ca":381,"./en-ca.js":381,"./en-gb":382,"./en-gb.js":382,"./en-ie":383,"./en-ie.js":383,"./en-il":384,"./en-il.js":384,"./en-nz":385,"./en-nz.js":385,"./eo":386,"./eo.js":386,"./es":387,"./es-do":388,"./es-do.js":388,"./es-us":389,"./es-us.js":389,"./es.js":387,"./et":390,"./et.js":390,"./eu":391,"./eu.js":391,"./fa":392,"./fa.js":392,"./fi":393,"./fi.js":393,"./fo":394,"./fo.js":394,"./fr":395,"./fr-ca":396,"./fr-ca.js":396,"./fr-ch":397,"./fr-ch.js":397,"./fr.js":395,"./fy":398,"./fy.js":398,"./ga":399,"./ga.js":399,"./gd":400,"./gd.js":400,"./gl":401,"./gl.js":401,"./gom-latn":402,"./gom-latn.js":402,"./gu":403,"./gu.js":403,"./he":404,"./he.js":404,"./hi":405,"./hi.js":405,"./hr":406,"./hr.js":406,"./hu":407,"./hu.js":407,"./hy-am":408,"./hy-am.js":408,"./id":409,"./id.js":409,"./is":410,"./is.js":410,"./it":411,"./it-ch":412,"./it-ch.js":412,"./it.js":411,"./ja":413,"./ja.js":413,"./jv":414,"./jv.js":414,"./ka":415,"./ka.js":415,"./kk":416,"./kk.js":416,"./km":417,"./km.js":417,"./kn":418,"./kn.js":418,"./ko":419,"./ko.js":419,"./ku":420,"./ku.js":420,"./ky":421,"./ky.js":421,"./lb":422,"./lb.js":422,"./lo":423,"./lo.js":423,"./lt":424,"./lt.js":424,"./lv":425,"./lv.js":425,"./me":426,"./me.js":426,"./mi":427,"./mi.js":427,"./mk":428,"./mk.js":428,"./ml":429,"./ml.js":429,"./mn":430,"./mn.js":430,"./mr":431,"./mr.js":431,"./ms":432,"./ms-my":433,"./ms-my.js":433,"./ms.js":432,"./mt":434,"./mt.js":434,"./my":435,"./my.js":435,"./nb":436,"./nb.js":436,"./ne":437,"./ne.js":437,"./nl":438,"./nl-be":439,"./nl-be.js":439,"./nl.js":438,"./nn":440,"./nn.js":440,"./pa-in":441,"./pa-in.js":441,"./pl":442,"./pl.js":442,"./pt":443,"./pt-br":444,"./pt-br.js":444,"./pt.js":443,"./ro":445,"./ro.js":445,"./ru":446,"./ru.js":446,"./sd":447,"./sd.js":447,"./se":448,"./se.js":448,"./si":449,"./si.js":449,"./sk":450,"./sk.js":450,"./sl":451,"./sl.js":451,"./sq":452,"./sq.js":452,"./sr":453,"./sr-cyrl":454,"./sr-cyrl.js":454,"./sr.js":453,"./ss":455,"./ss.js":455,"./sv":456,"./sv.js":456,"./sw":457,"./sw.js":457,"./ta":458,"./ta.js":458,"./te":459,"./te.js":459,"./tet":460,"./tet.js":460,"./tg":461,"./tg.js":461,"./th":462,"./th.js":462,"./tl-ph":463,"./tl-ph.js":463,"./tlh":464,"./tlh.js":464,"./tr":465,"./tr.js":465,"./tzl":466,"./tzl.js":466,"./tzm":467,"./tzm-latn":468,"./tzm-latn.js":468,"./tzm.js":467,"./ug-cn":469,"./ug-cn.js":469,"./uk":470,"./uk.js":470,"./ur":471,"./ur.js":471,"./uz":472,"./uz-latn":473,"./uz-latn.js":473,"./uz.js":472,"./vi":474,"./vi.js":474,"./x-pseudo":475,"./x-pseudo.js":475,"./yo":476,"./yo.js":476,"./zh-cn":477,"./zh-cn.js":477,"./zh-hk":478,"./zh-hk.js":478,"./zh-tw":479,"./zh-tw.js":479};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=823},887:function(module,exports){},889:function(module,exports){},910:function(module,exports,__webpack_require__){var content=__webpack_require__(911);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(120)(content,options);content.locals&&(module.exports=content.locals)},911:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(119)(!1)).push([module.i,".ajf-report-builder {\n  padding-top: 20px;\n}\n\n.ajf-report-builder img {\n  max-width: 100%;\n  height: auto;\n}\n\n.ajf-report-builder iframe {\n  width: 100%;\n}\n\n.ajf-report-builder .components-navigate-regions {\n  height: 100%;\n}\n",""])},913:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var column_namespaceObject={};__webpack_require__.r(column_namespaceObject),__webpack_require__.d(column_namespaceObject,"metadata",function(){return column_block}),__webpack_require__.d(column_namespaceObject,"name",function(){return column_name}),__webpack_require__.d(column_namespaceObject,"settings",function(){return column_settings});var layout_namespaceObject={};__webpack_require__.r(layout_namespaceObject),__webpack_require__.d(layout_namespaceObject,"metadata",function(){return layout_block}),__webpack_require__.d(layout_namespaceObject,"name",function(){return layout_name}),__webpack_require__.d(layout_namespaceObject,"settings",function(){return layout_settings});__webpack_require__(66),__webpack_require__(67),__webpack_require__(74),__webpack_require__(64),__webpack_require__(342),__webpack_require__(236),__webpack_require__(31),__webpack_require__(237),__webpack_require__(238),__webpack_require__(63),__webpack_require__(76),__webpack_require__(68);var react=__webpack_require__(21),react_default=__webpack_require__.n(react),client=__webpack_require__(189),build_module=(__webpack_require__(791),__webpack_require__(79),__webpack_require__(139),__webpack_require__(49),__webpack_require__(86),__webpack_require__(137),__webpack_require__(164),__webpack_require__(303),__webpack_require__(80),__webpack_require__(801),__webpack_require__(100),__webpack_require__(138),__webpack_require__(220),__webpack_require__(50),__webpack_require__(6)),blocks_build_module=(__webpack_require__(912),__webpack_require__(9)),components_build_module=__webpack_require__(3),element_build_module=(__webpack_require__(8),__webpack_require__(0)),lib=__webpack_require__(534),icon=(__webpack_require__(167),react_default.a.createElement(components_build_module.V,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},react_default.a.createElement(components_build_module.L,{fill:"none",d:"M0 0h24v24H0V0z"}),react_default.a.createElement(components_build_module.x,null,react_default.a.createElement(components_build_module.L,{d:"M4,4H20a2,2,0,0,1,2,2V18a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V6A2,2,0,0,1,4,4ZM4 6V18H8V6Zm6 0V18h4V6Zm6 0V18h4V6Z"})))),column_block=__webpack_require__(520),_ref2=react_default.a.createElement("div",{className:"ajf-column"},"column");function ColumnEdit(_ref){_ref.attributes,_ref.setAttributes,_ref.mergeBlocks,_ref.onReplace,_ref.className;return _ref2}ColumnEdit.displayName="ColumnEdit",ColumnEdit.__docgenInfo={description:"",methods:[],displayName:"ColumnEdit"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReportBuilder/widgets/column/edit.js"]={name:"ColumnEdit",docgenInfo:ColumnEdit.__docgenInfo,path:"src/components/ReportBuilder/widgets/column/edit.js"});var AjfReportWidgetType={Layout:0,PageBreak:1,Image:2,Text:3,Chart:4,Table:5,Map:6,Column:7,Formula:8,ImageContainer:9};function ColumnSave(){return react_default.a.createElement("node",{"widget-type":AjfReportWidgetType.Column,styles:"{}"})}ColumnSave.displayName="ColumnSave",ColumnSave.__docgenInfo={description:"",methods:[],displayName:"ColumnSave"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReportBuilder/widgets/column/save.js"]={name:"ColumnSave",docgenInfo:ColumnSave.__docgenInfo,path:"src/components/ReportBuilder/widgets/column/save.js"});var column_name="ajf/column",column_settings={title:"Column",icon:icon,description:"Column",edit:ColumnEdit,save:ColumnSave},layout_icon=react_default.a.createElement(components_build_module.V,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},react_default.a.createElement(components_build_module.L,{fill:"none",d:"M0 0h24v24H0V0z"}),react_default.a.createElement(components_build_module.x,null,react_default.a.createElement(components_build_module.L,{d:"M4,4H20a2,2,0,0,1,2,2V18a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V6A2,2,0,0,1,4,4ZM4 6V18H8V6Zm6 0V18h4V6Zm6 0V18h4V6Z"}))),layout_block=__webpack_require__(521);function LayoutEdit(_ref){var attributes=_ref.attributes;_ref.setAttributes,_ref.mergeBlocks,_ref.onReplace,_ref.className,attributes.columns;return react_default.a.createElement("div",{className:"ajf-layout"},react_default.a.createElement(build_module.x,{allowedBlocks:["ajf/column"],template:[["ajf/column"],["ajf/column"]]}))}LayoutEdit.displayName="LayoutEdit",LayoutEdit.__docgenInfo={description:"",methods:[],displayName:"LayoutEdit"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReportBuilder/widgets/layout/edit.js"]={name:"LayoutEdit",docgenInfo:LayoutEdit.__docgenInfo,path:"src/components/ReportBuilder/widgets/layout/edit.js"});__webpack_require__(897);var save_ref=react_default.a.createElement(build_module.x.Content,null);function LayoutSave(props){props.attributes,props.setAttributes,props.mergeBlocks,props.onReplace,props.className;return react_default.a.createElement("node",{"widget-type":AjfReportWidgetType.Layout,styles:"{}"},save_ref)}LayoutSave.displayName="LayoutSave",LayoutSave.__docgenInfo={description:"",methods:[],displayName:"LayoutSave"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ReportBuilder/widgets/layout/save.js"]={name:"LayoutSave",docgenInfo:LayoutSave.__docgenInfo,path:"src/components/ReportBuilder/widgets/layout/save.js"});var layout_name="ajf/layout",layout_settings={title:"Layout",icon:layout_icon,description:"Layout",edit:LayoutEdit,save:LayoutSave};__webpack_require__(899),__webpack_require__(902),__webpack_require__(904),__webpack_require__(906),__webpack_require__(908),__webpack_require__(910);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function ReportBuilder_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function normalizeJson(json){return(json.elements||[]).map(function(el){return function normalizeJsonElement(el){if("element"!==el.type)return null;var normEl=Object.keys(el.attributes||{}).filter(function(key){return"class"!==key}).reduce(function(obj,key){return obj[function snakeToCamel(s){return s.replace(/(\-\w)/g,function(m){return m[1].toUpperCase()})}(key)]=JSON.parse(el.attributes[key]),obj},{});return null!=el.elements&&(normEl.content=el.elements.map(function(subEl){return normalizeJsonElement(subEl)}).filter(function(subEl){return null!=subEl})),normEl}(el)}).filter(function(el){return null!=el})}var ReportBuilder_ref=react_default.a.createElement("div",{className:"editor-styles-wrapper"},react_default.a.createElement(build_module.V,null,react_default.a.createElement(build_module.H,null,react_default.a.createElement(build_module.k,null)))),ReportBuilder_ref2=react_default.a.createElement(components_build_module.J,null,react_default.a.createElement(components_build_module.K,null,react_default.a.createElement(build_module.j,null))),ReportBuilder_AjfReportBuilderCls=function(_React$Component){function AjfReportBuilderCls(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AjfReportBuilderCls),_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(AjfReportBuilderCls).call(this,props)),ReportBuilder_defineProperty(_assertThisInitialized(_this),"COMMENT_PSEUDO_COMMENT_OR_LT_BANG",/<!--[\s\S]*?(?:-->)?<!---+>?|<!(?![dD][oO][cC][tT][yY][pP][eE]|\[CDATA\[)[^>]*>?|<[?][^>]*>?/g),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AjfReportBuilderCls,react_default.a.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AjfReportBuilderCls,[{key:"render",value:function render(){var _this2=this,_this$props=this.props,blocks=_this$props.blocks,updateBlocks=_this$props.updateBlocks,updateBlocksWrapper=function(blocks){var onChange=_this2.props.onChange;if(onChange){var reportStr=Object(blocks_build_module.F)(blocks),report=normalizeJson(JSON.parse(Object(lib.xml2json)(reportStr))||{});onChange(JSON.stringify(report))}updateBlocks(blocks)};return react_default.a.createElement("div",{className:"ajf-report-builder"},react_default.a.createElement(components_build_module.J,null,react_default.a.createElement(components_build_module.K,null,react_default.a.createElement(build_module.g,{value:blocks,onInput:updateBlocksWrapper,onChange:updateBlocksWrapper},ReportBuilder_ref))),ReportBuilder_ref2)}}]),AjfReportBuilderCls}();ReportBuilder_AjfReportBuilderCls.displayName="AjfReportBuilderCls",[column_namespaceObject,layout_namespaceObject].forEach(function(block){if(block){var metadata=block.metadata,settings=block.settings,name=block.name;metadata&&Object(blocks_build_module.L)(function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},name,metadata)),Object(blocks_build_module.E)(name,settings)}});var ReportBuilder=function AjfReportBuilder(props){var _useState2=_slicedToArray(Object(element_build_module.w)([]),2),blocks=_useState2[0],updateBlocks=_useState2[1];return new ReportBuilder_AjfReportBuilderCls(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){ReportBuilder_defineProperty(target,key,source[key])})}return target}({},props,{blocks:blocks,updateBlocks:updateBlocks})).render()};function stories_typeof(obj){return(stories_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function stories_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function stories_getPrototypeOf(o){return(stories_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function stories_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function stories_setPrototypeOf(o,p){return(stories_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}Object(client.storiesOf)("AjfReportBuilder").add("base",function(){function updateOutput(output){this.setState({output:output})}var OutputComponent=function(_React$Component){function OutputComponent(props){var _this;return function stories_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,OutputComponent),(_this=function stories_possibleConstructorReturn(self,call){return!call||"object"!==stories_typeof(call)&&"function"!=typeof call?stories_assertThisInitialized(self):call}(this,stories_getPrototypeOf(OutputComponent).call(this,props))).state={output:""},updateOutput=updateOutput.bind(stories_assertThisInitialized(_this)),_this}return function stories_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&stories_setPrototypeOf(subClass,superClass)}(OutputComponent,react_default.a.Component),function stories_createClass(Constructor,protoProps,staticProps){return protoProps&&stories_defineProperties(Constructor.prototype,protoProps),staticProps&&stories_defineProperties(Constructor,staticProps),Constructor}(OutputComponent,[{key:"render",value:function render(){return react_default.a.createElement("pre",{className:"output"},this.state.output)}}]),OutputComponent}();return OutputComponent.displayName="OutputComponent",react_default.a.createElement("div",null,react_default.a.createElement(ReportBuilder,{onChange:function onChange(val){return updateOutput(JSON.stringify(JSON.parse(val),null,2))}}),react_default.a.createElement(OutputComponent,null))})}},[[535,1,2]]]);
//# sourceMappingURL=main.9fc88f74e894925b61a0.bundle.js.map